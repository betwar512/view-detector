{"version":3,"file":"index.js","sources":["../src/ViewportProvider.tsx"],"sourcesContent":["import React, { FC } from 'react'\n\nexport type Orientation = 'Portrait' | 'LandScape'\n\nexport interface ViewPortState {\n  width: number\n  height: number\n  isMobile: boolean\n  isDesktop: boolean\n  isTable: boolean\n  isPortrait: boolean\n  orientation: Orientation\n}\n\nconst ViewportContext = React.createContext<ViewPortState>({\n  width: 0,\n  height: 0,\n  isDesktop: true,\n  isMobile: false,\n  isTable: false,\n  isPortrait: true,\n  orientation: 'Portrait'\n})\n\nconst maxMobileWidth = 515\nconst maxTableWidth = 820\n// const desktopWidth = 120\n\nconst ViewportProvider: FC<{children:JSX.Element | JSX.Element[] | undefined }> = ({ children }) => {\n  // This is the exact same logic that we previously had in our hook\n\n  // const isSSR = typeof window !== 'undefined'\n\n  const [details, setDetails] = React.useState<ViewPortState>({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    isMobile: window.innerWidth < maxMobileWidth,\n    isTable:\n      window.innerWidth > maxMobileWidth && window.innerWidth <= maxTableWidth,\n    isDesktop: window.innerWidth > maxTableWidth,\n    isPortrait: window.innerWidth < window.innerHeight,\n    orientation:\n      window.innerWidth > window.innerHeight ? 'LandScape' : 'Portrait'\n  })\n\n  const handleWindowResize = () => {\n    const isPortrait = window.innerWidth < window.innerHeight\n    const width = isPortrait ? window.innerWidth : window.innerHeight\n    setDetails({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      isMobile: width < maxMobileWidth,\n      isTable: width > maxMobileWidth && width <= maxTableWidth,\n      isDesktop: width > maxTableWidth,\n      isPortrait: window.innerWidth < window.innerHeight,\n      orientation:\n        window.innerWidth > window.innerHeight ? 'LandScape' : 'Portrait'\n    })\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('resize', handleWindowResize)\n    return () => window.removeEventListener('resize', handleWindowResize)\n  }, [])\n\n  /* Now we are dealing with a context instead of a Hook, so instead\n     of returning the width and height we store the values in the\n     value of the Provider */\n  return (\n    <ViewportContext.Provider value={details}>\n      {children}\n    </ViewportContext.Provider>\n  )\n}\n\n/* Rewrite the \"useViewport\" hook to pull the width and height values\n   out of the context instead of calculating them itself */\nconst useViewport = () => {\n  /* We can use the \"useContext\" Hook to access a context from within\n     another Hook, remember, Hooks are composable! */\n  return React.useContext<ViewPortState>(ViewportContext)\n  // return { width, height };\n}\n\nexport default ViewportProvider\nexport { useViewport, ViewportContext }\n"],"names":["ViewportContext","React","createContext","width","height","isDesktop","isMobile","isTable","isPortrait","orientation","maxMobileWidth","maxTableWidth","ViewportProvider","children","useState","window","innerWidth","innerHeight","details","setDetails","handleWindowResize","useEffect","addEventListener","removeEventListener","Provider","value","useViewport","useContext"],"mappings":";;;;IAcMA,eAAe,GAAGC,KAAK,CAACC,aAAN,CAAmC;EACzDC,KAAK,EAAE,CADkD;EAEzDC,MAAM,EAAE,CAFiD;EAGzDC,SAAS,EAAE,IAH8C;EAIzDC,QAAQ,EAAE,KAJ+C;EAKzDC,OAAO,EAAE,KALgD;EAMzDC,UAAU,EAAE,IAN6C;EAOzDC,WAAW,EAAE;AAP4C,CAAnC;AAUxB,IAAMC,cAAc,GAAG,GAAvB;AACA,IAAMC,aAAa,GAAG,GAAtB;;AAGA,IAAMC,gBAAgB,GAA4D,SAA5EA,gBAA4E;MAAGC,gBAAAA;;EAKnF,sBAA8BZ,KAAK,CAACa,QAAN,CAA8B;IAC1DX,KAAK,EAAEY,MAAM,CAACC,UAD4C;IAE1DZ,MAAM,EAAEW,MAAM,CAACE,WAF2C;IAG1DX,QAAQ,EAAES,MAAM,CAACC,UAAP,GAAoBN,cAH4B;IAI1DH,OAAO,EACLQ,MAAM,CAACC,UAAP,GAAoBN,cAApB,IAAsCK,MAAM,CAACC,UAAP,IAAqBL,aALH;IAM1DN,SAAS,EAAEU,MAAM,CAACC,UAAP,GAAoBL,aAN2B;IAO1DH,UAAU,EAAEO,MAAM,CAACC,UAAP,GAAoBD,MAAM,CAACE,WAPmB;IAQ1DR,WAAW,EACTM,MAAM,CAACC,UAAP,GAAoBD,MAAM,CAACE,WAA3B,GAAyC,WAAzC,GAAuD;GAT7B,CAA9B;MAAOC,OAAP;MAAgBC,UAAhB;;EAYA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;IACzB,IAAMZ,UAAU,GAAGO,MAAM,CAACC,UAAP,GAAoBD,MAAM,CAACE,WAA9C;IACA,IAAMd,KAAK,GAAGK,UAAU,GAAGO,MAAM,CAACC,UAAV,GAAuBD,MAAM,CAACE,WAAtD;IACAE,UAAU,CAAC;MACThB,KAAK,EAAEY,MAAM,CAACC,UADL;MAETZ,MAAM,EAAEW,MAAM,CAACE,WAFN;MAGTX,QAAQ,EAAEH,KAAK,GAAGO,cAHT;MAITH,OAAO,EAAEJ,KAAK,GAAGO,cAAR,IAA0BP,KAAK,IAAIQ,aAJnC;MAKTN,SAAS,EAAEF,KAAK,GAAGQ,aALV;MAMTH,UAAU,EAAEO,MAAM,CAACC,UAAP,GAAoBD,MAAM,CAACE,WAN9B;MAOTR,WAAW,EACTM,MAAM,CAACC,UAAP,GAAoBD,MAAM,CAACE,WAA3B,GAAyC,WAAzC,GAAuD;KARjD,CAAV;GAHF;;EAeAhB,KAAK,CAACoB,SAAN,CAAgB;IACdN,MAAM,CAACO,gBAAP,CAAwB,QAAxB,EAAkCF,kBAAlC;IACA,OAAO;MAAA,OAAML,MAAM,CAACQ,mBAAP,CAA2B,QAA3B,EAAqCH,kBAArC,CAAN;KAAP;GAFF,EAGG,EAHH;EAQA,OACEnB,mBAAA,CAACD,eAAe,CAACwB,QAAjB;IAA0BC,KAAK,EAAEP;GAAjC,EACGL,QADH,CADF;AAKD,CA7CD;;IAiDMa,WAAW,GAAG,SAAdA,WAAc;EAGlB,OAAOzB,KAAK,CAAC0B,UAAN,CAAgC3B,eAAhC,CAAP;AAED;;;;;;"}